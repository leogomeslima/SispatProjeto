@Sispat.API_HostAddress = https://localhost:7196

###
# ===================================================================
# (OPCIONAL) REGISTRAR UM NOVO USUÁRIO
# ===================================================================
POST {{Sispat.API_HostAddress}}/api/Auth/register
Content-Type: application/json

{
  "fullName": "Joao da Silva",
  "email": "joao.silva@teste.com",
  "password": "Senha@123"
}

###
# ===================================================================
# PASSO A: FAÇA O LOGIN
# ===================================================================
# @name loginRequest
POST {{Sispat.API_HostAddress}}/api/Auth/login
Content-Type: application/json

{
  "email": "joao.silva@teste.com",
  "password": "Senha@123"
}

###
# ===================================================================
# PASSO B: DEFINA O TOKEN
# 1. Copie o "token" da resposta do Passo A.
# 2. Cole o token na linha de baixo (substituindo SEU_TOKEN_AQUI).
# ===================================================================
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2FvLnNpbHZhQHRlc3RlLmNvbSIsImp0aSI6IjgwMGFiNjBkLTZiNTctNGE1Ny1hMDlkLTA1MGM3ZmJjMzEzMSIsImVtYWlsIjoiam9hby5zaWx2YUB0ZXN0ZS5jb20iLCJ1aWQiOiI1NDdjN2U0MS1jY2E1LTRmNTAtYjRmZi0yYjY1ZmFjODlhNzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiSm9hbyBkYSBTaWx2YSIsImV4cCI6MTc2MTc0NjY5OSwiaXNzIjoiU2lzcGF0QVBJIiwiYXVkIjoiU2lzcGF0QXBwIn0.ghwn_3OA0NUzfTsN6z8rgT1yLbM8agRr56_Y1PMIA64

###
# ===================================================================
# PASSO C: CRIAR UMA CATEGORIA
# (Necessário ANTES de criar um Ativo)
# 1. Clique em "Enviar solicitação".
# 2. Copie o "id" da resposta para o PASSO E.
# ===================================================================
# @name createCategory
POST {{Sispat.API_HostAddress}}/api/Categories
Content-Type: application/json

{
  "name": "Eletrônicos",
  "description": "Notebooks, monitores, etc."
}

###
# ===================================================================
# PASSO D: CRIAR UMA LOCALIZAÇÃO
# (Necessário ANTES de criar um Ativo)
# 1. Clique em "Enviar solicitação".
# 2. Copie o "id" da resposta para o PASSO F.
# ===================================================================
# @name createLocation
POST {{Sispat.API_HostAddress}}/api/Locations
Content-Type: application/json

{
  "name": "Sala TI - Bloco A",
  "building": "Bloco A",
  "floor": "3"
}

###
# ===================================================================
# PASSO E: DEFINA O ID DA CATEGORIA
# 1. Cole o "id" da resposta do Passo C aqui.
# ===================================================================
@newCategoryId = ae9d7d7c-9474-4f78-b35c-bcdd39863c2b

###
# ===================================================================
# PASSO F: DEFINA O ID DA LOCALIZAÇÃO
# 1. Cole o "id" da resposta do Passo D aqui.
# ===================================================================
@newLocationId = e4a56cba-f25d-466c-87e5-62a2b6ad8622

###
# ===================================================================
# PASSO G: CRIAR UM NOVO ATIVO
# 1. Verifique se o token (Passo B) e os IDs (Passo E, F) estão corretos.
# 2. Clique em "Enviar solicitação" abaixo.
# ===================================================================
POST {{Sispat.API_HostAddress}}/api/Assets
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "name": "Notebook Dell XPS 15",
  "description": "Notebook para desenvolvimento, i7, 16GB RAM",
  "serialNumber": "SN-DELL-XPS-001",
  "purchaseValue": 7500.00,
  "purchaseDate": "2023-01-15T00:00:00Z",
  "status": 1,
  "categoryId": "{{newCategoryId}}",
  "locationId": "{{newLocationId}}"
}

###
# ===================================================================
# PASSO H: LISTAR ATIVOS (TESTE PÓS-CRIAÇÃO)
# 1. Se o Passo G funcionou, clique aqui para ver o novo ativo na lista.
# ===================================================================
GET {{Sispat.API_HostAddress}}/api/Assets
Authorization: Bearer {{authToken}}
Accept: application/json